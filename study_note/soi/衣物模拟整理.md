## 框架介绍
布料建模是指在计算机程序中模拟布料的术语，通常用于 3D 计算机图形学的背景下

主流的仿真方法可以分为：
Physics-based Cloth Simulation
基于对物理现象的模拟，将物体划分为若干个质点，通过计算质点受到的力得到，对物体状态的模拟
Position Based Dynamics (PBD)
对每一个顶点做粒子模拟（可以用冲量法处理碰撞），然后利用 projection 修正每个顶点的速度，矫正每个顶点的位置。

对于 PBD 年来说，优点是
1. 可以在 GPU 上并行；
2. 2. 代码易于实现；
3. 3. 对于顶点数少的布料收敛速度快。

实际上PBD还有一个巨大的优势在于算法仅仅需要访问顶点信息，而其他算法（比若说隐式积分都需要做很多次内存访问）

缺点如下：
1. 物理正确性无法保障；
2. 2. 在顶点数很多的布料收敛速度慢。

## MASS-SPRING MODEL
现阶段的物理模拟大部分的基础模型还是 mass-spring
对于一块布料，将它划分为若干网格，每个网格包括三种弹簧
1. 第一种是结构性弹簧，这种弹簧用于连接横向和纵向的质点，起到固定模型结构的作用。
2. 第二种是扭曲弹簧，也叫剪切弹簧，连接对角线上的相邻质点，起到防止模型扭曲变形的作用。
3. 第三种是拉伸性弹簧，也叫弯曲弹簧连接横向和纵向相隔着一个质点的两个质点，保证模型形变时的边缘圆滑（比如布料折叠）。
 ![400](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202402261952550.png)
理想弹簧质点：根据胡克定律推导即可
 ![500](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202402262001443.png)

多弹簧系统：
 ![500](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202402262002499.png)
根据牛顿定律：
 ![200](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202402262005018.png)
####  积分方法
求解方法主要分为显示积分和隐式积分
显示积分：用当前时刻的力与速度来更新位置信息
 ![](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202402262021523.png)

隐式积分：用下一时刻的力与速度来更新位置信息
 ![](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202402262022629.png)

**显示 / Explicit** -- 优点只要计算足够长，肯定能收敛，但是存在累计误差问题，因此对最小步长有要求（即，对网格有要求！）
**隐式 / Standard**-- 优点是准确，对步长无要求（即，对网格无要求），但存在收敛问题。

其他积分方法：
1. 欧拉中点方法
- 方法思想：使用中间时刻的速度更新位移
- 方法误差： O(Δt3) (一阶准确度)
- 收敛性：较好

2. 差分形式
对速度的更新使用欧拉显式迭代，位移的更新使用欧拉隐式迭代，就得到了混合半隐式方法，这也被称为**Leap Frog**迭代
 ![](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202402262022197.png)
