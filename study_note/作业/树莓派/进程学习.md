[47. 01.进程-进程概念和fork_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1wd4y137fd/?p=43&spm_id_from=333.1007.top_right_bar_window_history.content.click&vd_source=f8bf73f9a2b495eaf6f8446fa6016bc7)

Start
[02:10](https://www.bilibili.com/video/BV1wd4y137fd/?p=43&spm_id_from=333.1007.top_right_bar_window_history.content.click&vd_source=f8bf73f9a2b495eaf6f8446fa6016bc7#t=130.207791)

![](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202211161025627.png)
![](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202211161026452.png)


### Pid 标识符
类型 pid_t 16 singned int, more than 30000
#### ps
man ps
ps -axf 
ps -axm
ps ax -L
#### 进程号
- 进程号是顺次向下使用的
- getpid() 当前进程
- getppid() 父进程
### 进程产生
#### fork()
执行一次返回两次
通过复制父进程，创建一个子进程，一模一样，连执行的位置都一样
![200](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202211161041569.png)
父子进程的区别：
1. 返回值不同
2. pid，ppid 不同
3. 味觉信号和文件锁不继承
4. 资源利用量清 0
![500](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202211161118328.png)

##### init()
进程产生，使进程变成库守在后台，分身
init 进程是所有进程的祖先进程，是 1 号进程
![](https://raw.githubusercontent.com/acdefg/cdn/main/obsidian/202211161522236.png)


#### fork()运用
成功了：子进程的 pid 返回给父进程，子进程中返回 0
失败了：返回-1，并且会设置 errno
vofork()
