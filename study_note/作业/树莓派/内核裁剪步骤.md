

```bash
sudo apt install git bc bison flex libssl-dev make libc6-dev libncurses5-dev
```

```bash
sudo apt install crossbuild-essential-arm64
```

```bash
git clone --depth=1 --branch rpi-5.15.y https://github.com/raspberrypi/linux
```

```shell
cd linux
KERNEL=kernel8
make ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- bcm2711_defconfig
```

```bash
make ARCH=arm64 CROSS_COMPILE=aarch64-linux-gnu- Image modules dtbs
```

```bash
make -j4 Image.gz modules dtbs
sudo make modules_install
sudo cp arch/arm64/boot/dts/broadcom/*.dtb /boot/
sudo cp arch/arm64/boot/dts/overlays/*.dtb* /boot/overlays/
sudo cp arch/arm64/boot/dts/overlays/README /boot/overlays/
sudo cp arch/arm64/boot/Image.gz /boot/$KERNEL.img
```

插 SD 卡
lsblk 挂载前后看看
Sudo dmesg 挂载成功标志
```bash
mkdir mnt
mkdir mnt/fat32
mkdir mnt/ext4
sudo mount /dev/sdb1 mnt/fat32
sudo mount /dev/sdb2 mnt/ext4
```


